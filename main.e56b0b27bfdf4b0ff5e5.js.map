{"version":3,"sources":["webpack:///./js/notification.js","webpack:///./js/api-server.js","webpack:///./js/btn-load-styling.js","webpack:///./index.js","webpack:///./js/refs.js","webpack:///./templates/gallery.hbs"],"names":["notifications","onNull","PNotify","title","text","onIncorrect","onError","ApiService","this","searchQ","page","fetchImages","url","BASE","fetch","then","responce","json","data","hits","resetPage","newQuery","LoadMore","selector","hidden","refs","getRefs","hide","button","document","querySelector","label","spinner","enable","disabled","textContent","classList","add","disable","remove","show","newApiService","loadMore","LoadMoreBtn","bodyheigth","form","gallery","insertImage","length","documentElement","offsetHeight","insertAdjacentHTML","RenderGallery","addEventListener","event","preventDefault","query","currentTarget","elements","value","trim","innerHTML","setTimeout","window","scrollTo","top","behavior","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop"],"mappings":"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","file":"main.e56b0b27bfdf4b0ff5e5.js","sourcesContent":["import * as PNotify from '@pnotify/core/dist/PNotify.js';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/mobile/dist/PNotifyMobile.css';\r\nimport '@pnotify/core/dist/BrightTheme.css';\r\n\r\nconst notifications = {\r\n  onNull() {\r\n    PNotify.info({\r\n      title: 'Incorrect query',\r\n      text: 'Check please the validity of entering, and try again',\r\n    });\r\n  },\r\n  onIncorrect() {\r\n    PNotify.error({\r\n      title: 'Not found',\r\n      text: 'Please enter a more specific query!',\r\n    });\r\n  },\r\n\r\n  onError() {\r\n    PNotify.error({\r\n      title: 'Something went wrong',\r\n      text: 'Please try again',\r\n    });\r\n  },\r\n};\r\nexport default notifications;\r\n","import notifications from './notification';\r\n\r\nconst KEY = '19956193-a9b59d6ae3d28c260e9a62791';\r\nconst BASE = 'https://pixabay.com/api';\r\n\r\nexport default class ApiService {\r\n  constructor() {\r\n    this.searchQ = '';\r\n    this.page = 1;\r\n  }\r\n\r\n  fetchImages() {\r\n    const url = `${BASE}/?image_type=photo&orientation=horizontal&q=${this.searchQ}&page=${this.page}&per_page=12&key=${KEY}`;\r\n\r\n    return fetch(url)\r\n      .then(responce => responce.json())\r\n      .then(data => {\r\n        this.page += 1;\r\n        return data.hits;\r\n      });\r\n  }\r\n  get query() {\r\n    return this.searchQ;\r\n  }\r\n  set query(newQuery) {\r\n    this.searchQ = newQuery;\r\n  }\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n}\r\n","export default class LoadMore {\r\n  constructor({ selector, hidden }) {\r\n    this.refs = this.getRefs(selector);\r\n    if (hidden) {\r\n      this.hide();\r\n    }\r\n  }\r\n\r\n  getRefs(selector) {\r\n    const refs = {};\r\n    refs.button = document.querySelector(selector);\r\n    refs.label = refs.button.querySelector('.span');\r\n    refs.spinner = refs.button.querySelector('.spinner');\r\n    return refs;\r\n  }\r\n\r\n  enable() {\r\n    this.refs.button.disabled = false;\r\n    this.refs.label.textContent = 'Load more';\r\n    this.refs.spinner.classList.add('is-hidden');\r\n  }\r\n  disable() {\r\n    this.refs.button.disabled = true;\r\n    this.refs.label.textContent = 'Loading...';\r\n    this.refs.spinner.classList.remove('is-hidden');\r\n  }\r\n\r\n  show() {\r\n    this.refs.button.classList.remove('is-hidden');\r\n  }\r\n  hide() {\r\n    this.refs.button.classList.add('is-hidden');\r\n  }\r\n}\r\n","import './styles.css';\nimport ApiService from './js/api-server';\nimport RenderGallery from './templates/gallery.hbs';\nimport LoadMoreBtn from './js/btn-load-styling';\nimport getRefs from './js/refs';\nimport notifications from './js/notification';\n\nconst newApiService = new ApiService();\nconst loadMore = new LoadMoreBtn({\n  selector: '[data-action=\"load-more\"]',\n  hidden: true,\n});\nlet bodyheigth = 0;\nconst refs = getRefs();\n\nrefs.form.addEventListener('submit', onSearch);\nloadMore.refs.button.addEventListener('click', onloadMore);\n\nfunction onSearch(event) {\n  event.preventDefault();\n\n  newApiService.query = event.currentTarget.elements.query.value;\n  if (newApiService.query.trim() === '') {\n    notifications.onNull();\n    return;\n  }\n  refs.gallery.innerHTML = '';\n  newApiService.resetPage();\n  loadMore.show();\n\n  insertImage();\n}\n\nfunction onloadMore() {\n  insertImage();\n  setTimeout(() => {\n    window.scrollTo({\n      top: bodyheigth,\n      behavior: 'smooth',\n    });\n  }, 300);\n}\n\nfunction insertImage() {\n  loadMore.disable();\n\n  newApiService.fetchImages().then(data => {\n    if (data.length > 0) {\n      bodyheigth = document.documentElement.offsetHeight;\n      refs.gallery.insertAdjacentHTML('beforeend', RenderGallery(data));\n      loadMore.enable();\n    } else {\n      notifications.onIncorrect();\n\n      loadMore.hide();\n    }\n  });\n}\n","export default function getRefs() {\r\n  const refs = {\r\n    form: document.querySelector('#search-form'),\r\n    gallery: document.querySelector('.gallery'),\r\n  };\r\n  return refs;\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"list-gal\\\">\\r\\n    <div class=\\\"photo-card\\\">\\r\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":18},\"end\":{\"line\":4,\"column\":34}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":41},\"end\":{\"line\":4,\"column\":49}}}) : helper)))\n    + \"\\\" data-source=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":64},\"end\":{\"line\":4,\"column\":81}}}) : helper)))\n    + \"\\\" />\\r\\n\\r\\n        <div class=\\\"stats\\\">\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":16},\"end\":{\"line\":9,\"column\":25}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">visibility</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":16},\"end\":{\"line\":13,\"column\":25}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">comment</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":16},\"end\":{\"line\":17,\"column\":28}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n            <p class=\\\"stats-item\\\">\\r\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":16},\"end\":{\"line\":21,\"column\":29}}}) : helper)))\n    + \"\\r\\n            </p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});"],"sourceRoot":""}